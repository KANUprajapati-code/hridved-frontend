import{u as O,j as e,a as $}from"./index-jnhJKHVM.js";import{r as t,L as w,u as H}from"./vendor-react-B8KVy-C4.js";import{P as _,a as q}from"./ProductCard-Cca3-jHF.js";import{X as B,i as z,H as D,b as T,j as v,f as W}from"./vendor-ui-cGIEGKxt.js";import{A as U}from"./AnimatedPage-DxUsQqoh.js";import{S as R}from"./ScrollReveal-o9tXFi3p.js";import{A as b}from"./AnimatedButton-CtjKepQT.js";import"./vendor-utils-C0Zqfgkc.js";const X=({product:r,isOpen:f,onClose:g})=>{const{addToCart:j}=O(),[o,p]=t.useState(1),[i,m]=t.useState(!1);if(!f||!r)return null;const d=()=>{j(r,o),g()};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Quick View"}),e.jsx("button",{onClick:g,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(B,{size:24})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"flex items-center justify-center bg-gray-50 rounded-lg p-4",children:e.jsx("div",{className:"max-w-xs max-h-80 w-full",children:e.jsx(_,{src:r.image,alt:r.name,className:"rounded",width:300,height:320})})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-500 uppercase tracking-wider mb-2",children:r.category}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.name})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((u,n)=>e.jsx(z,{size:16,fill:n<(r.rating||0)?"currentColor":"none",className:n<(r.rating||0)?"text-yellow-400":"text-gray-300"},n))}),e.jsxs("span",{className:"text-sm text-gray-600",children:[r.rating," (",r.numReviews||0," reviews)"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["₹",r.price]}),r.originalPrice&&e.jsxs("span",{className:"text-lg text-gray-400 line-through",children:["₹",r.originalPrice]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:r.description})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:`inline-block px-3 py-1 rounded text-sm font-semibold ${r.countInStock>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.countInStock>0?`${r.countInStock} in stock`:"Out of stock"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[e.jsx("button",{onClick:()=>p(Math.max(1,o-1)),disabled:o<=1,className:"px-3 py-2 hover:bg-gray-100 disabled:opacity-50",children:"−"}),e.jsx("span",{className:"px-4 py-2 border-l border-r border-gray-300",children:o}),e.jsx("button",{onClick:()=>p(o+1),disabled:o>=r.countInStock,className:"px-3 py-2 hover:bg-gray-100 disabled:opacity-50",children:"+"})]}),e.jsx("button",{onClick:()=>m(!i),className:`p-3 rounded-lg border transition-colors ${i?"bg-red-100 border-red-300 text-red-600":"border-gray-300 text-gray-600 hover:border-red-300"}`,children:e.jsx(D,{size:20,fill:i?"currentColor":"none"})})]}),e.jsxs("button",{onClick:d,disabled:r.countInStock===0,className:"w-full bg-primary text-white py-3 rounded-lg font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsx(T,{size:20}),"Add to Cart"]}),e.jsx(w,{to:`/product/${r._id}`,onClick:g,className:"w-full bg-gray-100 text-gray-900 py-3 rounded-lg font-semibold hover:bg-gray-200 transition-colors text-center",children:"View Full Details"})]})]})]})})]})})},ae=()=>{const[r,f]=t.useState([]),[g,j]=t.useState([]),[o,p]=t.useState(!0),[i,m]=t.useState(""),[d,u]=t.useState(1e4),[n,k]=t.useState(0),[N,C]=t.useState("newest"),[c,l]=t.useState(1),[h,V]=t.useState(1),[E,I]=t.useState(null),[L,S]=t.useState(!1),[P,y]=t.useState(!1),M=H(),A=new URLSearchParams(M.search).get("keyword")||"";t.useEffect(()=>{(async()=>{p(!0);try{let a=`/products?keyword=${A}&pageNumber=${c}&sort=${N}`;i&&(a+=`&category=${i}`),d<1e4&&(a+=`&maxPrice=${d}`),n>0&&(a+=`&rating=${n}`);const{data:x}=await $.get(a);f(x.products),l(x.page),V(x.pages)}catch(a){console.error("Error fetching products",a)}finally{p(!1),y(!1)}})()},[A,i,d,n,N,c]);const F=s=>{I(s),S(!0)};t.useEffect(()=>{(async()=>{try{const{data:a}=await $.get("/categories");j(a)}catch(a){console.error("Error fetching categories",a)}})()},[]);const Q=s=>{C(s.target.value),l(1)};return e.jsx(U,{children:e.jsxs("div",{className:"bg-background min-h-screen font-sans",children:[e.jsx("div",{className:"bg-white border-b border-gray-100 py-4",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-2",children:[e.jsx(w,{to:"/",className:"hover:text-primary",children:"Home"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{className:"text-gray-800 font-bold",children:"Shop"})]}),e.jsx("h1",{className:"text-3xl md:text-5xl font-display font-bold text-primary",children:"Ayurvedic Apothecary"}),e.jsx("p",{className:"text-gray-500 mt-2 text-sm max-w-2xl",children:"Explore our curated range of herbal formulations, oils, and wellness essentials rooted in 100+ years of healing traditions."})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"md:hidden mb-4",children:e.jsxs("button",{onClick:()=>y(!0),className:"w-full flex items-center justify-center gap-2 bg-white border border-gray-200 py-3 rounded-lg font-bold text-primary shadow-sm hover:bg-gray-50 transition-colors",children:[e.jsx(v,{size:20}),"Filter Products"]})}),e.jsx("div",{className:`fixed inset-0 z-[60] bg-black/50 md:relative md:inset-auto md:z-0 md:bg-transparent transition-opacity duration-300 ${P?"opacity-100 visible":"opacity-0 invisible md:visible md:opacity-100"}`,children:e.jsxs("div",{className:`absolute left-0 top-0 h-full w-4/5 max-w-xs bg-white p-6 overflow-y-auto md:p-0 md:bg-transparent md:h-auto md:w-full md:max-w-none md:static transform transition-transform duration-300 ${P?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 md:hidden",children:[e.jsx("h3",{className:"text-xl font-display font-bold text-primary",children:"Filters"}),e.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-primary",children:e.jsx(v,{size:24,className:"rotate-90"})})]}),e.jsxs("div",{className:"sticky top-24 space-y-8",children:[e.jsxs("div",{className:"hidden md:flex items-center gap-2 font-bold text-gray-800 pb-2 border-b border-gray-200",children:[e.jsx(v,{size:18})," Filters"]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-sm text-gray-900 mb-3",children:"Categories"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"category",checked:i==="",onChange:()=>{m(""),l(1)},className:"rounded-full border-gray-300 text-primary focus:ring-primary h-4 w-4"}),e.jsx("span",{className:`text-sm ${i===""?"text-primary font-bold":"text-gray-600 group-hover:text-primary"}`,children:"All Products"})]}),g.map(s=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"category",checked:i===s.name,onChange:()=>{m(s.name),l(1)},className:"rounded-full border-gray-300 text-primary focus:ring-primary h-4 w-4"}),e.jsx("span",{className:`text-sm ${i===s.name?"text-primary font-bold":"text-gray-600 group-hover:text-primary"}`,children:s.name})]},s._id))]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-sm text-gray-900 mb-3",children:["Max Price: ₹",d]}),e.jsx("input",{type:"range",min:"0",max:"10000",step:"100",value:d,onChange:s=>{u(Number(s.target.value)),l(1)},className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[e.jsx("span",{children:"₹0"}),e.jsx("span",{children:"₹10000+"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-sm text-gray-900 mb-3",children:"Minimum Rating"}),e.jsx("div",{className:"space-y-2",children:[0,1,2,3,4].map(s=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"rating",checked:n===s,onChange:()=>{k(s),l(1)},className:"rounded-full border-gray-300 text-primary focus:ring-primary h-4 w-4"}),e.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((a,x)=>e.jsx(z,{size:12,fill:x<s?"currentColor":"none",className:x<s?"text-yellow-400":"text-gray-300"},x)),e.jsx("span",{className:`text-xs ml-1 ${n===s?"text-primary font-bold":"text-gray-600"}`,children:s===0?"All":`${s} & above`})]})]},s))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{onClick:()=>{m(""),u(1e4),k(0),C("newest"),l(1)},className:"flex-grow py-2 bg-gray-100 text-gray-600 text-sm font-bold rounded hover:bg-gray-200 transition-colors border-none",children:"Reset"}),e.jsx("button",{onClick:()=>y(!1),className:"md:hidden flex-grow py-2 bg-primary text-white text-sm font-bold rounded hover:bg-opacity-90 transition-colors",children:"Apply"})]})]})]})}),e.jsxs("div",{className:"md:w-3/4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white p-3 rounded-lg border border-gray-100 shadow-sm",children:[e.jsxs("p",{className:"text-gray-500 text-[10px] sm:text-xs",children:["Showing ",e.jsx("span",{className:"font-bold text-gray-800",children:r.length})," results (Page ",c," of ",h,")"]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"SORT BY:"}),e.jsx("div",{className:"relative group",children:e.jsxs("select",{value:N,onChange:Q,className:"text-xs font-bold text-gray-700 bg-gray-50 border px-3 py-1.5 rounded hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-primary",children:[e.jsx("option",{value:"newest",children:"Newest Arrivals"}),e.jsx("option",{value:"price-asc",children:"Price: Low to High"}),e.jsx("option",{value:"price-desc",children:"Price: High to Low"})]})})]})})]}),o?e.jsxs("div",{className:"text-center py-20 flex flex-col items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading authentic remedies..."})]}):r.length===0?e.jsxs("div",{className:"text-center py-20 bg-white rounded-xl shadow-sm border border-dashed border-gray-300",children:[e.jsx("p",{className:"text-xl text-gray-500 mb-2",children:"No products found matching your criteria."}),e.jsx("button",{onClick:()=>{m(""),u(1e4)},className:"text-primary hover:underline",children:"Clear Filters"})]}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-6",children:r.map((s,a)=>e.jsx(R,{delay:a*.1,children:e.jsx(q,{product:s,onQuickView:F})},s._id))}),h>1&&e.jsxs("div",{className:"flex justify-center mt-12 gap-2",children:[e.jsx(b,{disabled:c===1,onClick:()=>l(s=>Math.max(1,s-1)),className:`w-8 h-8 flex items-center justify-center rounded border border-gray-200 ${c===1?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-50"} !p-0`,children:"<"}),[...Array(h).keys()].map(s=>e.jsx(b,{onClick:()=>l(s+1),className:`w-8 h-8 flex items-center justify-center rounded border ${c===s+1?"bg-primary text-white border-primary":"border-gray-200 text-gray-600 hover:bg-gray-50"} !p-0`,children:s+1},s+1)),e.jsx(b,{disabled:c===h,onClick:()=>l(s=>Math.min(h,s+1)),className:`w-8 h-8 flex items-center justify-center rounded border border-gray-200 ${c===h?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-50"} !p-0`,children:">"})]})]})]}),e.jsx(R,{children:e.jsxs("div",{className:"mt-20 bg-green-50 rounded-3xl p-8 md:p-12 flex flex-col md:flex-row items-center justify-between border border-green-100",children:[e.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-primary mb-4",children:"Ayurveda for Every Body"}),e.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed max-w-lg",children:"All HRIDVED products are crafted following authentic scriptures and modern quality standards. Whether you're looking for skin radiance, digestion support, or stress relief, our holistic remedies are designed to restore balance to your Doshas."}),e.jsxs(w,{to:"/about",className:"inline-flex items-center text-primary font-bold border border-primary px-6 py-2 rounded hover:bg-primary hover:text-white transition-colors",children:["Learn more about our process ",e.jsx(W,{size:16,className:"ml-2"})]})]}),e.jsx("div",{className:"md:w-1/2 flex justify-center md:justify-end",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-2xl transform rotate-3"}),e.jsx("img",{src:"https://images.unsplash.com/photo-1620916566398-39f1143ab7be?q=80&w=600&auto=format&fit=crop",alt:"Ayurvedic Bowl",className:"relative rounded-2xl shadow-lg transform -rotate-3 hover:rotate-0 transition-transform duration-500 max-w-xs md:max-w-sm"})]})})]})})]}),e.jsx(X,{product:E,isOpen:L,onClose:()=>S(!1)})]})})};export{ae as default};
