import{j as e,a as r}from"./index-DsP1R5yV.js";import{r as i,L as m}from"./vendor-react-B8KVy-C4.js";import{y as h,o as p,X as y,ab as j,s as f}from"./vendor-ui-DMuw5F6C.js";import"./vendor-utils-C0Zqfgkc.js";const A=()=>{const[n,l]=i.useState([]),[o,c]=i.useState(!0),t=async()=>{try{const{data:s}=await r.get("/users");l(s)}catch(s){console.error(s)}finally{c(!1)}};i.useEffect(()=>{t()},[]);const d=async s=>{if(window.confirm("Are you sure?"))try{await r.delete(`/users/${s}`),t()}catch(a){console.error(a)}},x=async s=>{if(window.confirm(`Are you sure you want to ${s.isAdmin?"remove":"make"} this user admin?`))try{await r.put(`/users/${s._id}`,{isAdmin:!s.isAdmin}),t()}catch(a){console.error(a),alert("Error updating user")}};return o?e.jsx("div",{className:"text-center py-20",children:"Loading..."}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(m,{to:"/admin",className:"flex items-center gap-2 text-gray-600 hover:text-primary mb-6 transition-colors",children:[e.jsx(h,{size:20})," Back to Dashboard"]}),e.jsx("h1",{className:"text-3xl font-serif font-bold text-primary mb-6",children:"Users"}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4 font-bold text-gray-700",children:"ID"}),e.jsx("th",{className:"py-3 px-4 font-bold text-gray-700",children:"NAME"}),e.jsx("th",{className:"py-3 px-4 font-bold text-gray-700",children:"EMAIL"}),e.jsx("th",{className:"py-3 px-4 font-bold text-gray-700",children:"ADMIN"}),e.jsx("th",{className:"py-3 px-4 font-bold text-gray-700",children:"ACTIONS"})]})}),e.jsx("tbody",{children:n.map(s=>e.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50 transition",children:[e.jsx("td",{className:"py-3 px-4 text-sm",children:s._id}),e.jsx("td",{className:"py-3 px-4 text-sm font-medium",children:s.name}),e.jsx("td",{className:"py-3 px-4 text-sm",children:e.jsx("a",{href:`mailto:${s.email}`,children:s.email})}),e.jsx("td",{className:"py-3 px-4 text-sm",children:s.isAdmin?e.jsx(p,{size:20,className:"text-green-600"}):e.jsx(y,{size:20,className:"text-red-500"})}),e.jsx("td",{className:"py-3 px-4 text-sm",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x(s),className:"text-blue-600 hover:text-blue-800",title:s.isAdmin?"Remove Admin":"Make Admin",children:e.jsx(j,{size:18})}),!s.isAdmin&&e.jsx("button",{onClick:()=>d(s._id),className:"text-red-500 hover:text-red-700",title:"Delete User",children:e.jsx(f,{size:18})})]})})]},s._id))})]})})]})};export{A as default};
