import{b as j,j as e}from"./index-DsP1R5yV.js";import{r as n,b as w,u as N,L as C}from"./vendor-react-B8KVy-C4.js";import{G as E,F as S}from"./FacebookAuthButton-BSJhENLY.js";import{m as s}from"./vendor-ui-DMuw5F6C.js";import"./vendor-utils-C0Zqfgkc.js";const H=()=>{const[l,p]=n.useState(""),[c,h]=n.useState(""),[d,g]=n.useState(""),{login:y,user:o}=j(),i=w(),u=N(),t=u.search?u.search.split("=")[1]:"/";n.useEffect(()=>{o&&(t==="/"&&o.isAdmin?i("/admin"):i(t))},[i,o,t]);const v=async a=>{var m,x;a.preventDefault();try{await y(l,c),i(t)}catch(b){g(((x=(m=b.response)==null?void 0:m.data)==null?void 0:x.message)||"Invalid email or password")}},f={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1}}},r={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3}}};return e.jsx(s.div,{className:"min-h-[70vh] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",variants:f,initial:"hidden",animate:"visible",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-lg",children:[e.jsx(s.div,{variants:r,className:"text-center",children:e.jsx("h2",{className:"text-3xl font-extrabold text-primary font-serif",children:"Sign in to your account"})}),d&&e.jsx(s.div,{variants:r,className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative text-sm",children:d}),e.jsxs(s.div,{variants:r,className:"space-y-3",children:[e.jsx(E,{text:"Continue with Google",redirect:t}),e.jsx(S,{text:"Continue with Facebook",redirect:t})]}),e.jsxs(s.div,{variants:r,className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[e.jsxs(s.div,{variants:r,className:"rounded-md shadow-sm space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-secondary focus:border-secondary focus:z-10 sm:text-sm",placeholder:"Email address",value:l,onChange:a=>p(a.target.value)})}),e.jsx("div",{children:e.jsx("input",{type:"password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-secondary focus:border-secondary focus:z-10 sm:text-sm",placeholder:"Password",value:c,onChange:a=>h(a.target.value)})})]}),e.jsx(s.div,{variants:r,children:e.jsx(s.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-primary hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary transition-all",children:"Sign in"})})]}),e.jsx(s.div,{variants:r,className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["New Customer?"," ",e.jsx(C,{to:t?`/register?redirect=${t}`:"/register",className:"font-medium text-secondary hover:text-primary transition-colors",children:"Register Here"})]})})]})})};export{H as default};
