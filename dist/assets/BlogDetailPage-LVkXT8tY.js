import{j as e,a as g}from"./index-DsP1R5yV.js";import{e as w,r,L as o}from"./vendor-react-B8KVy-C4.js";import{a as N,b as v}from"./seoUtils-DMLLXE77.js";import{y as k,O as S,q as C,E as z,U as L,Q as U,F as R,T as A,V as $,W as D}from"./vendor-ui-DMuw5F6C.js";import"./vendor-utils-C0Zqfgkc.js";const M=()=>{const{slug:i}=w(),[s,b]=r.useState(null),[d,u]=r.useState([]),[f,x]=r.useState(!0),[m,h]=r.useState(!1),[j,p]=r.useState(!1);r.useEffect(()=>{i&&(async()=>{try{x(!0);const{data:a}=await g.get(`/blogs/${i}`);b(a),N(a),v(a);const{data:c}=await g.get(`/blogs/${a._id}/related?limit=3`);u(c)}catch(a){console.error("Error fetching blog:",a)}finally{x(!1)}})()},[i]);const n=t=>{const a=window.location.href,c=encodeURIComponent((s==null?void 0:s.title)||"Check out this article");let l="";switch(t){case"facebook":l=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(a)}`;break;case"twitter":l=`https://twitter.com/intent/tweet?url=${encodeURIComponent(a)}&text=${c}`;break;case"linkedin":l=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(a)}`;break;default:return}window.open(l,"share","width=600,height=400"),h(!1)},y=()=>{navigator.clipboard.writeText(window.location.href),p(!0),setTimeout(()=>p(!1),2e3)};return f?e.jsxs("div",{className:"container mx-auto px-4 py-20 max-w-4xl text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading blog..."})]}):s?e.jsxs("div",{className:"bg-background min-h-screen",children:[e.jsxs("div",{className:"bg-white border-b border-gray-100",children:[e.jsx("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:e.jsxs(o,{to:"/blogs",className:"inline-flex items-center text-primary hover:text-opacity-80 mb-6 transition-colors font-bold text-sm",children:[e.jsx(k,{size:16,className:"mr-2"})," Back to Articles"]})}),e.jsx("div",{className:"w-full h-96 overflow-hidden",children:e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-full object-cover"})})]}),e.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[e.jsx("article",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsxs("div",{className:"p-8 md:p-12",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 items-center mb-4 text-sm text-gray-500",children:[e.jsx("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full font-bold text-xs uppercase",children:s.category}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(S,{size:14}),new Date(s.publishedAt||s.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(C,{size:14}),s.readTime]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(z,{size:14}),s.views||0," views"]})]})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-gray-900 mb-6 leading-tight",children:s.title}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 py-6 border-y border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:s.authorImage||"https://via.placeholder.com/150",alt:s.author,className:"w-12 h-12 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-gray-900 flex items-center gap-1",children:[e.jsx(L,{size:14}),s.author]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Expert Author"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>h(!m),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 transition-colors font-medium text-sm",children:[e.jsx(U,{size:16})," Share"]}),m&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-48",children:[e.jsxs("button",{onClick:()=>n("facebook"),className:"w-full text-left px-4 py-3 hover:bg-gray-50 flex items-center gap-3 transition-colors border-b border-gray-100 last:border-b-0",children:[e.jsx(R,{size:18,className:"text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Share on Facebook"})]}),e.jsxs("button",{onClick:()=>n("twitter"),className:"w-full text-left px-4 py-3 hover:bg-gray-50 flex items-center gap-3 transition-colors border-b border-gray-100 last:border-b-0",children:[e.jsx(A,{size:18,className:"text-blue-400"}),e.jsx("span",{className:"text-sm font-medium",children:"Share on Twitter"})]}),e.jsxs("button",{onClick:()=>n("linkedin"),className:"w-full text-left px-4 py-3 hover:bg-gray-50 flex items-center gap-3 transition-colors border-b border-gray-100 last:border-b-0",children:[e.jsx($,{size:18,className:"text-blue-700"}),e.jsx("span",{className:"text-sm font-medium",children:"Share on LinkedIn"})]}),e.jsxs("button",{onClick:y,className:"w-full text-left px-4 py-3 hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[e.jsx(D,{size:18,className:"text-gray-600"}),e.jsx("span",{className:"text-sm font-medium",children:j?"Copied!":"Copy Link"})]})]})]})]}),e.jsx("div",{className:"prose prose-lg max-w-none mt-8 mb-8",children:e.jsx("div",{className:"text-gray-800 leading-relaxed whitespace-pre-wrap break-words",children:s.content})}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 pt-6 border-t border-gray-100",children:s.tags.map((t,a)=>e.jsxs(o,{to:`/blogs?search=${encodeURIComponent(t)}`,className:"px-3 py-1 rounded-full bg-gray-100 text-gray-700 text-xs font-medium hover:bg-gray-200 transition-colors",children:["#",t]},a))})]})}),d.length>0&&e.jsxs("div",{className:"mt-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Related Articles"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:d.map(t=>e.jsxs("article",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-all group",children:[e.jsxs("div",{className:"relative h-40 overflow-hidden",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),e.jsx("span",{className:"absolute top-3 left-3 bg-white/90 backdrop-blur-sm text-primary px-2 py-1 rounded text-xs font-bold",children:t.category})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-primary transition-colors",children:t.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:t.shortDescription}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[e.jsx("span",{className:"text-xs text-gray-500",children:new Date(t.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),e.jsx(o,{to:`/blog/${t.slug||t._id}`,className:"text-secondary font-bold text-xs hover:gap-2 transition-all",children:"Read"})]})]})]},t._id))})]})]})]}):e.jsxs("div",{className:"container mx-auto px-4 py-20 max-w-4xl text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Blog not found"}),e.jsx(o,{to:"/blogs",className:"text-primary font-bold hover:underline",children:"Back to blogs"})]})};export{M as default};
