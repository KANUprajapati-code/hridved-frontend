import{a as y,j as e}from"./index-DsP1R5yV.js";import{f as E,r as a,L}from"./vendor-react-B8KVy-C4.js";import{c as $,s as R}from"./seoUtils-DMLLXE77.js";import{S as z,q as B,l as j,k as D}from"./vendor-ui-DMuw5F6C.js";import"./vendor-utils-C0Zqfgkc.js";const V=()=>{const[x,h]=E(),[n,v]=a.useState([]),[N,w]=a.useState([]),[C,g]=a.useState(!0),[l,P]=a.useState(null),[o,p]=a.useState(x.get("category")||"All"),[i,u]=a.useState(x.get("search")||""),[s,c]=a.useState(parseInt(x.get("page"))||1),S=async()=>{try{const{data:t}=await y.get("/blogs/categories");w(t)}catch(t){console.error("Error fetching categories:",t)}},b=a.useCallback(async()=>{try{g(!0);let t=`/blogs?page=${s}&limit=12`;i&&(t+=`&search=${encodeURIComponent(i)}`),o&&o!=="All"&&(t+=`&category=${encodeURIComponent(o)}`);const{data:r}=await y.get(t);v(r.blogs),P(r.pagination),r.blogs.length>0&&$(r.blogs,r.pagination.currentPage,r.pagination.totalPages);const d=new URLSearchParams;o!=="All"&&d.set("category",o),i&&d.set("search",i),s>1&&d.set("page",s),h(d)}catch(t){console.error("Error fetching blogs:",t)}finally{g(!1)}},[s,o,i,h]);a.useEffect(()=>{R("AyurVeda Wellness Blog - Expert Insights on Health & Wellness","Discover expert insights on Ayurveda, wellness, yoga, nutrition, and traditional healing. Read our comprehensive blog articles for modern living.","https://via.placeholder.com/1200x630",`${window.location.origin}/blogs`),S()},[]),a.useEffect(()=>{b()},[s,o,i,b]);const k=t=>{u(t.target.value),c(1)},f=t=>{p(t),c(1)},m=t=>{c(t),window.scrollTo({top:0,behavior:"smooth"})},A=()=>{u(""),p("All"),c(1)};return C&&!n.length?e.jsx("div",{className:"bg-background min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading insights..."})]})}):e.jsxs("div",{className:"bg-background min-h-screen",children:[e.jsx("div",{className:"bg-white border-b border-gray-100 sticky top-0 z-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 max-w-6xl",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-serif font-bold text-primary",children:"AyurVeda Wellness Hub"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Expert insights on traditional healing for modern living."})]}),e.jsxs("div",{className:"relative w-full md:w-64",children:[e.jsx("input",{type:"text",placeholder:"Search articles...",value:i,onChange:k,className:"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:border-secondary text-sm"}),e.jsx(z,{size:16,className:"absolute left-3 top-2.5 text-gray-400"})]})]}),e.jsxs("div",{className:"flex gap-2 mt-6 overflow-x-auto pb-2 scrollbar-hide",children:[e.jsx("button",{onClick:()=>f("All"),className:`px-4 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all ${o==="All"?"bg-secondary text-primary font-bold shadow-sm":"bg-white border border-gray-200 text-gray-600 hover:border-secondary hover:text-primary"}`,children:"All"}),N.map(t=>e.jsxs("button",{onClick:()=>f(t.name),className:`px-4 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all flex items-center gap-1 ${o===t.name?"bg-secondary text-primary font-bold shadow-sm":"bg-white border border-gray-200 text-gray-600 hover:border-secondary hover:text-primary"}`,children:[t.name,t.count>0&&e.jsxs("span",{className:"text-xs",children:["(",t.count,")"]})]},t.name))]})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[n.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"No articles found matching your criteria."}),e.jsx("button",{onClick:A,className:"text-primary font-bold hover:underline",children:"Clear Filters"})]}),n.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:n.map(t=>e.jsxs("article",{className:"blog-card bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-all group h-full flex flex-col",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),e.jsx("span",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-sm text-primary px-2 py-1 rounded text-xs font-bold",children:t.category})]}),e.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-3",children:[e.jsx(B,{size:12}),e.jsx("span",{children:new Date(t.publishedAt||t.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:t.readTime})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2 line-clamp-2 group-hover:text-primary transition-colors",children:t.title}),e.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-3 flex-1",children:t.shortDescription}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50 mt-auto",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:t.authorImage||"https://via.placeholder.com/150",alt:t.author,className:"w-6 h-6 rounded-full object-cover"}),e.jsx("span",{className:"text-xs font-medium text-gray-600",children:t.author})]}),e.jsxs(L,{to:`/blog/${t.slug||t._id}`,className:"text-secondary font-bold text-xs flex items-center gap-1 hover:gap-2 transition-all",children:["Read More ",e.jsx(j,{size:12})]})]})]})]},t._id))}),l&&l.totalPages>1&&e.jsxs("div",{className:"flex justify-center items-center gap-4 py-8",children:[e.jsx("button",{onClick:()=>m(s-1),disabled:s===1,className:"p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all","aria-label":"Previous page",children:e.jsx(D,{size:20})}),e.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:l.totalPages},(t,r)=>r+1).map(t=>{const r=t===1||t===l.totalPages||Math.abs(t-s)<=1;return!r&&s>3&&t===2?e.jsx("span",{className:"text-gray-400",children:"..."},"ellipsis1"):!r&&s<l.totalPages-2&&t===l.totalPages-1?e.jsx("span",{className:"text-gray-400",children:"..."},"ellipsis2"):r?e.jsx("button",{onClick:()=>m(t),className:`px-3 py-2 rounded-lg transition-all ${s===t?"bg-primary text-white font-bold":"border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:t},t):null})}),e.jsx("button",{onClick:()=>m(s+1),disabled:s===l.totalPages,className:"p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all","aria-label":"Next page",children:e.jsx(j,{size:20})}),e.jsxs("div",{className:"text-sm text-gray-500 ml-4",children:["Page ",s," of ",l.totalPages," (",l.totalBlogs," total)"]})]})]})]}),e.jsx("div",{className:"bg-primary/5 border-t border-primary/10 mt-16 py-16",children:e.jsxs("div",{className:"container mx-auto px-4 text-center max-w-2xl",children:[e.jsx("h3",{className:"text-2xl font-serif font-bold text-primary mb-4",children:"Stay Connected with Ayurveda"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Subscribe for health tips, exclusive offers, and the latest from our experts."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("input",{type:"email",placeholder:"Enter your email address",className:"flex-1 px-4 py-3 rounded-lg border border-gray-200 focus:outline-none focus:border-secondary"}),e.jsx("button",{className:"bg-primary text-white px-8 py-3 rounded-lg font-bold hover:bg-opacity-90 transition-colors whitespace-nowrap",children:"Subscribe"})]})]})})]})};export{V as default};
