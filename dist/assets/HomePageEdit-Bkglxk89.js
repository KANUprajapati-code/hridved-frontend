import{j as e,a as x}from"./index-DsP1R5yV.js";import{r as d,L as w}from"./vendor-react-B8KVy-C4.js";import{y as T,ad as u}from"./vendor-ui-DMuw5F6C.js";import"./vendor-utils-C0Zqfgkc.js";const E=()=>{var h;const[g,p]=d.useState(!0),[a,n]=d.useState({title:"",subtitle:"",ctaText:"",ctaLink:""}),[i,c]=d.useState({title:"",subtitle:"",image:""}),[l,m]=d.useState({items:[]});d.useEffect(()=>{(async()=>{try{const{data:s}=await x.get("/content");s.hero&&n(s.hero),s.tradition&&c(s.tradition),s.testimonials&&m(s.testimonials),p(!1)}catch(s){console.error("Error fetching content",s),p(!1)}})()},[]);const j=async t=>{t.preventDefault();try{await x.put("/content/hero",a),alert("Hero section updated!")}catch{alert("Error updating hero")}},v=async t=>{t.preventDefault();try{await x.put("/content/tradition",i),alert("Tradition section updated!")}catch{alert("Error updating tradition")}},f=async t=>{t.preventDefault();try{await x.put("/content/testimonials",l),alert("Testimonials updated!")}catch{alert("Error updating testimonials")}},b=(t,s,r)=>{const o=[...l.items||[]];o[t]||(o[t]={}),o[t][s]=r,m({...l,items:o})},N=()=>{m({...l,items:[...l.items||[],{title:"Name",description:"Feedback",link:"Location/Role"}]})},y=t=>{const s=l.items.filter((r,o)=>o!==t);m({...l,items:s})};return g?e.jsx("div",{className:"p-8",children:"Loading content..."}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(w,{to:"/admin",className:"flex items-center gap-2 text-gray-600 hover:text-primary mb-6 transition-colors",children:[e.jsx(T,{size:20})," Back to Dashboard"]}),e.jsx("h1",{className:"text-3xl font-bold font-serif text-primary mb-8",children:"Edit Home Page Content"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 border-b pb-2",children:"Hero Section"}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-1",children:"Title"}),e.jsx("input",{type:"text",value:a.title,onChange:t=>n({...a,title:t.target.value}),className:"w-full border p-2 rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-1",children:"Subtitle"}),e.jsx("textarea",{value:a.subtitle,onChange:t=>n({...a,subtitle:t.target.value}),className:"w-full border p-2 rounded",rows:"3"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-1",children:"CTA Text"}),e.jsx("input",{type:"text",value:a.ctaText,onChange:t=>n({...a,ctaText:t.target.value}),className:"w-full border p-2 rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-1",children:"CTA Link"}),e.jsx("input",{type:"text",value:a.ctaLink,onChange:t=>n({...a,ctaLink:t.target.value}),className:"w-full border p-2 rounded"})]})]}),e.jsxs("button",{type:"submit",className:"bg-primary text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-opacity-90",children:[e.jsx(u,{size:16})," Save Hero"]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 border-b pb-2",children:"Tradition Section"}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-1",children:"Title"}),e.jsx("input",{type:"text",value:i.title,onChange:t=>c({...i,title:t.target.value}),className:"w-full border p-2 rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-1",children:"Content/Description"}),e.jsx("textarea",{value:i.subtitle,onChange:t=>c({...i,subtitle:t.target.value}),className:"w-full border p-2 rounded",rows:"5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-1",children:"Image URL"}),e.jsx("input",{type:"text",value:i.image,onChange:t=>c({...i,image:t.target.value}),className:"w-full border p-2 rounded"})]}),e.jsxs("button",{type:"submit",className:"bg-primary text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-opacity-90",children:[e.jsx(u,{size:16})," Save Tradition"]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border md:col-span-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Testimonials"}),e.jsx("button",{type:"button",onClick:N,className:"text-primary text-sm font-bold hover:underline",children:"+ Add Testimonial"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[(h=l.items)==null?void 0:h.map((t,s)=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded border relative",children:[e.jsx("button",{type:"button",onClick:()=>y(s),className:"absolute top-2 right-2 text-red-500 text-xs font-bold hover:underline",children:"Remove"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold mb-1",children:"Customer Name (Title)"}),e.jsx("input",{type:"text",value:t.title||"",onChange:r=>b(s,"title",r.target.value),className:"w-full border p-2 rounded text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold mb-1",children:"Location/Role (Link)"}),e.jsx("input",{type:"text",value:t.link||"",onChange:r=>b(s,"link",r.target.value),className:"w-full border p-2 rounded text-sm"})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{className:"block text-xs font-bold mb-1",children:"Testimonial (Description)"}),e.jsx("textarea",{value:t.description||"",onChange:r=>b(s,"description",r.target.value),className:"w-full border p-2 rounded text-sm",rows:"2"})]})]})]},s)),e.jsxs("button",{type:"submit",className:"bg-primary text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-opacity-90",children:[e.jsx(u,{size:16})," Save Testimonials"]})]})]})]})]})};export{E as default};
