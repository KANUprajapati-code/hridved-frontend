import{b as P,j as e}from"./index-DsP1R5yV.js";import{r as o,b as E,u as A,L as q}from"./vendor-react-B8KVy-C4.js";import{G as z,F}from"./FacebookAuthButton-BSJhENLY.js";import{m as s}from"./vendor-ui-DMuw5F6C.js";import"./vendor-utils-C0Zqfgkc.js";const V=()=>{const[l,h]=o.useState(""),[c,f]=o.useState(""),[n,v]=o.useState(""),[d,b]=o.useState(""),[u,j]=o.useState(null),[m,w]=o.useState(""),{register:N,user:p}=P(),i=E(),x=A(),t=x.search?x.search.split("=")[1]:"/";o.useEffect(()=>{p&&i(t)},[i,p,t]);const S=async r=>{var g,y;if(r.preventDefault(),n!==d)j("Passwords do not match");else try{await N(l,c,n),i(t)}catch(k){w(((y=(g=k.response)==null?void 0:g.data)==null?void 0:y.message)||"Registration failed")}},C={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1}}},a={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3}}};return e.jsx(s.div,{className:"min-h-[70vh] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",variants:C,initial:"hidden",animate:"visible",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-lg",children:[e.jsx(s.div,{variants:a,className:"text-center",children:e.jsx("h2",{className:"text-3xl font-extrabold text-primary font-serif",children:"Create Account"})}),u&&e.jsx(s.div,{variants:a,className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded relative text-sm",children:u}),m&&e.jsx(s.div,{variants:a,className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative text-sm",children:m}),e.jsxs(s.div,{variants:a,className:"space-y-3",children:[e.jsx(z,{text:"Sign up with Google",redirect:t}),e.jsx(F,{text:"Sign up with Facebook",redirect:t})]}),e.jsxs(s.div,{variants:a,className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or register with email"})})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:S,children:[e.jsxs(s.div,{variants:a,className:"rounded-md shadow-sm space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"text",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-secondary focus:border-secondary focus:z-10 sm:text-sm",placeholder:"Full Name",value:l,onChange:r=>h(r.target.value)})}),e.jsx("div",{children:e.jsx("input",{type:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-secondary focus:border-secondary focus:z-10 sm:text-sm",placeholder:"Email address",value:c,onChange:r=>f(r.target.value)})}),e.jsx("div",{children:e.jsx("input",{type:"password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-secondary focus:border-secondary focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:r=>v(r.target.value)})}),e.jsx("div",{children:e.jsx("input",{type:"password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-secondary focus:border-secondary focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:d,onChange:r=>b(r.target.value)})})]}),e.jsx(s.div,{variants:a,children:e.jsx(s.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-primary hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary transition-all",children:"Register"})})]}),e.jsx(s.div,{variants:a,className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(q,{to:t?`/login?redirect=${t}`:"/login",className:"font-medium text-secondary hover:text-primary transition-colors",children:"Login"})]})})]})})};export{V as default};
