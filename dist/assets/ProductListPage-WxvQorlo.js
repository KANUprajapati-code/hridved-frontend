import{j as e,a as r}from"./index-jnhJKHVM.js";import{r as s,b as y,L as d}from"./vendor-react-B8KVy-C4.js";import{y as u,u as j,ac as f,s as b}from"./vendor-ui-cGIEGKxt.js";import"./vendor-utils-C0Zqfgkc.js";const P=()=>{const[o,i]=s.useState([]),[n,l]=s.useState(!0),[a,x]=s.useState(null),m=y(),c=async()=>{try{const{data:t}=await r.get("/products");i(t.products)}catch(t){x("Error fetching products"),console.error(t)}finally{l(!1)}};s.useEffect(()=>{c()},[]);const p=async t=>{if(window.confirm("Are you sure?"))try{await r.delete(`/products/${t}`),c()}catch{alert("Error deleting product")}},h=async()=>{try{const{data:t}=await r.post("/products");m(`/admin/product/${t._id}/edit`)}catch{alert("Error creating product")}};return n?e.jsx("div",{className:"text-center py-20",children:"Loading..."}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(d,{to:"/admin",className:"flex items-center gap-2 text-gray-600 hover:text-primary mb-6 transition-colors",children:[e.jsx(u,{size:20})," Back to Dashboard"]}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-serif font-bold text-primary",children:"Products"}),e.jsxs("button",{onClick:h,className:"bg-primary text-white py-2 px-4 rounded hover:bg-opacity-90 transition flex items-center gap-2",children:[e.jsx(j,{size:20})," Create Product"]})]}),a&&e.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:a}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-3 px-4 font-bold text-gray-700",children:"ID"}),e.jsx("th",{className:"py-3 px-4 font-bold text-gray-700",children:"NAME"}),e.jsx("th",{className:"py-3 px-4 font-bold text-gray-700",children:"PRICE"}),e.jsx("th",{className:"py-3 px-4 font-bold text-gray-700",children:"CATEGORY"}),e.jsx("th",{className:"py-3 px-4 font-bold text-gray-700",children:"BRAND"}),e.jsx("th",{className:"py-3 px-4 font-bold text-gray-700",children:"ACTIONS"})]})}),e.jsx("tbody",{children:o.map(t=>e.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50 transition",children:[e.jsx("td",{className:"py-3 px-4 text-sm",children:t._id}),e.jsx("td",{className:"py-3 px-4 text-sm font-medium",children:t.name}),e.jsxs("td",{className:"py-3 px-4 text-sm",children:["â‚¹",t.price]}),e.jsx("td",{className:"py-3 px-4 text-sm",children:t.category}),e.jsx("td",{className:"py-3 px-4 text-sm",children:"HRIDVED"}),e.jsxs("td",{className:"py-3 px-4 text-sm flex gap-3",children:[e.jsx(d,{to:`/admin/product/${t._id}/edit`,className:"text-blue-600 hover:text-blue-800",children:e.jsx(f,{size:18})}),e.jsx("button",{onClick:()=>p(t._id),className:"text-red-500 hover:text-red-700",children:e.jsx(b,{size:18})})]})]},t._id))})]})})]})};export{P as default};
