import{c as y,a as b,j as e}from"./index-DsP1R5yV.js";import{b as j,r as d,R as u}from"./vendor-react-B8KVy-C4.js";import{C as l}from"./CheckoutStepIndicator-BMjnIS6w.js";import"./vendor-utils-C0Zqfgkc.js";import"./vendor-ui-DMuw5F6C.js";function D(){const a=j(),{checkoutData:i,resetCheckout:o}=y(),[s,x]=d.useState(null),[m,n]=d.useState(!0);d.useEffect(()=>{if(!i.orderId){a("/");return}c()},[i.orderId,a,c]);const c=u.useCallback(async()=>{try{n(!0);const r=await b.get(`/checkout/order/${i.orderId}`);x(r.data)}catch(r){console.error("Error fetching order details:",r)}finally{n(!1)}},[i.orderId]),h=()=>{if(!s)return null;const r=parseInt(s.estimatedDeliveryDays.split("-")[1])||5,t=new Date;return t.setDate(t.getDate()+r),t.toLocaleDateString("en-IN",{weekday:"short",year:"numeric",month:"short",day:"numeric"})},p=()=>{o(),a("/")},g=()=>{a(`/order/${i.orderId}`)};return m?e.jsx(AnimatedPage,{children:e.jsx("div",{className:"bg-background min-h-screen py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[e.jsx(l,{}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading order details..."})]})]})})}):s?e.jsx(AnimatedPage,{children:e.jsx("div",{className:"bg-background min-h-screen py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[e.jsx(l,{}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 md:p-12",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-green-100 text-green-600 rounded-full mb-6",children:e.jsx(CheckCircle,{size:48,strokeWidth:3})}),e.jsx("h1",{className:"text-3xl font-serif font-bold text-gray-900 mb-2",children:"Order Confirmed!"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Thank you for your purchase. We've received your order."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx(ScrollReveal,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 border-b pb-2 flex items-center gap-2",children:[e.jsx(Package,{size:20,className:"text-primary"})," Order Details"]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-100 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Order ID"}),e.jsx("span",{className:"font-mono font-bold text-gray-900",children:s._id})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Order Date"}),e.jsx("span",{className:"font-medium text-gray-900",children:new Date(s.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Payment Status"}),e.jsx("span",{className:`font-bold px-2 py-0.5 rounded text-xs ${s.isPaid?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:s.isPaid?"PAID":"PENDING"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Estimated Delivery"}),e.jsxs("span",{className:"font-bold text-primary flex items-center gap-1",children:[e.jsx(Calendar,{size:14})," ",h()]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-100",children:[e.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2 text-sm uppercase",children:[e.jsx(Home,{size:16})," Delivery Address"]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("div",{className:"font-bold text-gray-900 mb-1",children:s.shippingAddress.fullName}),e.jsx("span",{className:"text-[10px] bg-gray-200 text-gray-700 px-1.5 py-0.5 rounded uppercase font-bold tracking-wider mb-2 inline-block",children:s.shippingAddress.addressType}),e.jsxs("p",{children:[s.shippingAddress.houseNumber,s.shippingAddress.landmark&&`, ${s.shippingAddress.landmark}`]}),e.jsxs("p",{children:[s.shippingAddress.city,", ",s.shippingAddress.state," - ",s.shippingAddress.pincode]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2 text-gray-700 font-medium",children:[e.jsx(Phone,{size:14})," ",s.shippingAddress.mobileNumber]})]})]})]})}),e.jsx(ScrollReveal,{delay:.1,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 border-b pb-2 flex items-center gap-2",children:[e.jsx(ShoppingBag,{size:20,className:"text-primary"})," Items Summary"]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-100",children:[e.jsx("div",{className:"space-y-4 mb-6",children:s.orderItems.map((r,t)=>e.jsxs("div",{className:"flex justify-between items-start pb-4 border-b border-gray-200 last:border-0 last:pb-0",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:r.name}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Qty: ",r.qty]})]}),e.jsxs("div",{className:"font-bold text-gray-900 text-sm",children:["₹",(r.price*r.qty).toLocaleString()]})]},t))}),e.jsxs("div",{className:"space-y-2 text-sm pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["₹",s.itemsPrice.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Tax (5%)"}),e.jsxs("span",{children:["₹",s.taxPrice.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Shipping"}),e.jsxs("span",{children:["₹",s.shippingPrice.toLocaleString()]})]}),e.jsxs("div",{className:"border-t border-gray-200 my-2 pt-2 flex justify-between font-bold text-gray-900 text-lg",children:[e.jsx("span",{children:"Total Paid"}),e.jsxs("span",{children:["₹",s.totalPrice.toLocaleString()]})]})]})]})]})})]}),e.jsxs(ScrollReveal,{delay:.2,className:"mt-12",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6 text-center",children:"What Happens Next?"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-gray-200 -translate-y-1/2 hidden md:block z-0"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 relative z-10",children:[{title:"Confirmed",desc:"Order placed & confirmed",icon:Check,active:!0},{title:"Processing",desc:"We are packing your order",icon:Package,active:!1},{title:"Shipped",desc:"On the way to you",icon:Truck,active:!1},{title:"Delivered",desc:"Arrives at your doorstep",icon:Home,active:!1}].map((r,t)=>e.jsxs("div",{className:"flex flex-col items-center text-center bg-white p-4 md:p-0",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 border-4 ${r.active?"bg-primary border-primary/30 text-white":"bg-gray-100 border-white text-gray-400"}`,children:e.jsx(r.icon,{size:20})}),e.jsx("div",{className:"font-bold text-gray-900 mb-1",children:r.title}),e.jsx("div",{className:"text-xs text-gray-500 max-w-[150px]",children:r.desc})]},t))})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center mt-12 pt-8 border-t border-gray-100",children:[e.jsx(AnimatedButton,{onClick:p,className:"px-8 py-3 rounded-xl font-bold text-primary border-2 border-primary hover:bg-primary/5 transition-all text-center",children:"Continue Shopping"}),e.jsxs(AnimatedButton,{onClick:g,className:"px-8 py-3 rounded-xl font-bold text-white bg-primary shadow-lg hover:shadow-xl hover:bg-opacity-90 transition-all text-center flex items-center justify-center gap-2",children:[e.jsx(List,{size:20})," View Order Details"]})]})]})]})})}):e.jsx(AnimatedPage,{children:e.jsx("div",{className:"bg-background min-h-screen py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[e.jsx(l,{}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center text-red-500",children:[e.jsx("p",{children:"Order details not found"}),e.jsx(AnimatedButton,{onClick:()=>a("/"),className:"mt-4 bg-primary text-white px-6 py-2 rounded-lg",children:"Return Home"})]})]})})})}export{D as default};
