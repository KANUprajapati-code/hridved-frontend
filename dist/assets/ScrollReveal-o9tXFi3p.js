import{j as V}from"./index-jnhJKHVM.js";import{r as l}from"./vendor-react-B8KVy-C4.js";import{m as j}from"./vendor-ui-cGIEGKxt.js";var y=new Map,h=new WeakMap,E=0,A=void 0;function O(e){return e?(h.has(e)||(E+=1,h.set(e,E.toString())),h.get(e)):"0"}function M(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?O(e.root):e[t]}`).toString()}function T(e){const t=M(e);let n=y.get(t);if(!n){const o=new Map;let c;const s=new IntersectionObserver(i=>{i.forEach(r=>{var u;const v=r.isIntersecting&&c.some(d=>r.intersectionRatio>=d);e.trackVisibility&&typeof r.isVisible>"u"&&(r.isVisible=v),(u=o.get(r.target))==null||u.forEach(d=>{d(v,r)})})},e);c=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:s,elements:o},y.set(t,n)}return n}function _(e,t,n={},o=A){if(typeof window.IntersectionObserver>"u"&&o!==void 0){const u=e.getBoundingClientRect();return t(o,{isIntersecting:o,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:u,intersectionRect:u,rootBounds:u}),()=>{}}const{id:c,observer:s,elements:i}=T(n),r=i.get(e)||[];return i.has(e)||i.set(e,r),r.push(t),s.observe(e),function(){r.splice(r.indexOf(t),1),r.length===0&&(i.delete(e),s.unobserve(e)),i.size===0&&(s.disconnect(),y.delete(c))}}function B({threshold:e,delay:t,trackVisibility:n,rootMargin:o,root:c,triggerOnce:s,skip:i,initialInView:r,fallbackInView:u,onChange:v}={}){var d;const[b,I]=l.useState(null),g=l.useRef(v),[R,w]=l.useState({inView:!!r,entry:void 0});g.current=v,l.useEffect(()=>{if(i||!b)return;let f;return f=_(b,(x,m)=>{w({inView:x,entry:m}),g.current&&g.current(x,m),m.isIntersecting&&s&&f&&(f(),f=void 0)},{root:c,rootMargin:o,threshold:e,trackVisibility:n,delay:t},u),()=>{f&&f()}},[Array.isArray(e)?e.toString():e,b,c,o,s,i,n,u,t]);const p=(d=R.entry)==null?void 0:d.target,S=l.useRef(void 0);!b&&p&&!s&&!i&&S.current!==p&&(S.current=p,w({inView:!!r,entry:void 0}));const a=[I,R.inView,R.entry];return a.ref=a[0],a.inView=a[1],a.entry=a[2],a}const W=({children:e,className:t="",delay:n=0,duration:o=.6,threshold:c=.2,triggerOnce:s=!0})=>{const{ref:i,inView:r}=B({threshold:c,triggerOnce:s});return V.jsx(j.div,{ref:i,className:t,variants:{hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:o,delay:n,ease:"easeOut"}}},initial:"hidden",animate:r?"visible":"hidden",children:e})};export{W as S};
