import{j as e,a as d}from"./index-jnhJKHVM.js";import{r as s,b as g,L as r}from"./vendor-react-B8KVy-C4.js";import{y as p,u as y,ac as b,s as j}from"./vendor-ui-cGIEGKxt.js";import"./vendor-utils-C0Zqfgkc.js";const v=()=>{const[a,n]=s.useState([]),[c,x]=s.useState(!0),[i,m]=s.useState(null);g();const l=async()=>{try{const{data:t}=await d.get("/categories");n(t)}catch(t){m("Error fetching categories"),console.error(t)}finally{x(!1)}};s.useEffect(()=>{l()},[]);const h=async t=>{if(window.confirm("Are you sure you want to delete this category?"))try{await d.delete(`/categories/${t}`),l()}catch{alert("Error deleting category")}};return c?e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(r,{to:"/admin",className:"flex items-center gap-2 text-gray-600 hover:text-primary mb-6 transition-colors",children:[e.jsx(p,{size:20})," Back to Dashboard"]}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-primary",children:"Categories"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage product categories and images"})]}),e.jsxs(r,{to:"/admin/category/add",className:"bg-primary text-white py-2.5 px-6 rounded-full hover:bg-opacity-90 transition flex items-center gap-2 shadow-lg",children:[e.jsx(y,{size:20})," Add Category"]})]}),i&&e.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:i}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsxs("table",{className:"min-w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-4 px-6 font-bold text-gray-700 text-sm",children:"IMAGE"}),e.jsx("th",{className:"py-4 px-6 font-bold text-gray-700 text-sm",children:"NAME"}),e.jsx("th",{className:"py-4 px-6 font-bold text-gray-700 text-sm",children:"SLUG"}),e.jsx("th",{className:"py-4 px-6 font-bold text-gray-700 text-sm",children:"DESCRIPTION"}),e.jsx("th",{className:"py-4 px-6 font-bold text-gray-700 text-sm text-right",children:"ACTIONS"})]})}),e.jsxs("tbody",{children:[a.map(t=>e.jsxs("tr",{className:"border-b border-gray-50 last:border-0 hover:bg-gray-50/50 transition",children:[e.jsx("td",{className:"py-4 px-6",children:e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border border-gray-100 shadow-sm bg-gray-50",children:e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover",onError:o=>{o.target.src="https://via.placeholder.com/150"}})})}),e.jsx("td",{className:"py-4 px-6 text-sm font-bold text-gray-900",children:t.name}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-500 font-mono italic",children:t.slug}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-500 max-w-xs truncate",children:t.description||"No description"}),e.jsx("td",{className:"py-4 px-6 text-sm text-right",children:e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(r,{to:`/admin/category/${t._id}/edit`,className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-600 hover:text-white transition-all shadow-sm",title:"Edit Category",children:e.jsx(b,{size:16})}),e.jsx("button",{onClick:()=>h(t._id),className:"p-2 bg-red-50 text-red-500 rounded-lg hover:bg-red-500 hover:text-white transition-all shadow-sm",title:"Delete Category",children:e.jsx(j,{size:16})})]})})]},t._id)),a.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"py-12 text-center text-gray-500 italic text-sm",children:'No categories found. Click "Add Category" to create one.'})})]})]})})]})};export{v as default};
