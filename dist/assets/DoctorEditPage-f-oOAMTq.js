import{j as e,a as c}from"./index-DsP1R5yV.js";import{e as A,b as H,r as t,L as M}from"./vendor-react-B8KVy-C4.js";import{y as Q,ac as R,ad as Y}from"./vendor-ui-DMuw5F6C.js";import"./vendor-utils-C0Zqfgkc.js";const K=()=>{const{id:s}=A(),F=H(),[d,g]=t.useState(""),[u,p]=t.useState(""),[o,l]=t.useState(""),[m,x]=t.useState(""),[b,f]=t.useState(""),[h,y]=t.useState(""),[j,v]=t.useState(0),[N,w]=t.useState(""),[S,k]=t.useState(""),[E,C]=t.useState(!0),[D,z]=t.useState(!0),[U,n]=t.useState(!1),[I,L]=t.useState(!0);t.useEffect(()=>{(async()=>{try{const{data:r}=await c.get(`/doctors/${s}`);g(r.name),p(r.specialization),l(r.image),x(r.experience),f(r.patients),y(r.languages.join(", ")),v(r.fee),w(r.tags.join(", ")),k(r.quote),C(r.available),z(r.isVerified),L(!1)}catch(r){console.error("Error fetching doctor details:",r),L(!1)}})()},[s]);const T=async a=>{const r=a.target.files[0],P=new FormData;P.append("image",r),n(!0);try{const i={headers:{"Content-Type":"multipart/form-data"}},{data:q}=await c.post("/upload",P,i);l(q),n(!1)}catch(i){console.error(i),n(!1)}},V=async a=>{a.preventDefault();try{await c.put(`/doctors/${s}`,{name:d,specialization:u,image:o,experience:m,patients:b,languages:h.split(",").map(r=>r.trim()),fee:j,tags:N.split(",").map(r=>r.trim()),quote:S,available:E,isVerified:D}),F("/admin/doctorlist")}catch(r){console.error("Error updating doctor:",r),alert("Failed to update doctor")}};return I?e.jsx("div",{className:"p-8 text-center",children:"Loading..."}):e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(M,{to:"/admin/doctorlist",className:"text-gray-500 hover:text-primary mb-4 flex items-center gap-2 transition-colors",children:[e.jsx(Q,{size:18})," Go Back"]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Edit Doctor"}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",s]})]}),e.jsx("div",{className:"p-8",children:e.jsxs("form",{onSubmit:V,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Name"}),e.jsx("input",{type:"text",placeholder:"Enter name",value:d,onChange:a=>g(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Specialization"}),e.jsx("input",{type:"text",placeholder:"Enter specialization",value:u,onChange:a=>p(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Profile Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"text",placeholder:"Enter image URL",value:o,onChange:a=>l(a.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",id:"image-file",onChange:T,className:"hidden"}),e.jsxs("label",{htmlFor:"image-file",className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg cursor-pointer hover:bg-gray-200 border border-gray-300 flex items-center gap-2 transition-colors",children:[e.jsx(R,{size:18})," ",U?"Uploading...":"Upload"]})]})]}),o&&e.jsx("div",{className:"mt-4 w-24 h-24 rounded-lg overflow-hidden border border-gray-200",children:e.jsx("img",{src:o,alt:"Preview",className:"w-full h-full object-cover"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Experience"}),e.jsx("input",{type:"text",placeholder:"e.g. 10 Yrs Exp",value:m,onChange:a=>x(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Patients Count"}),e.jsx("input",{type:"text",placeholder:"e.g. 500+ Patients",value:b,onChange:a=>f(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Consultation Fee (â‚¹)"}),e.jsx("input",{type:"number",placeholder:"Enter fee",value:j,onChange:a=>v(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Languages (comma separated)"}),e.jsx("input",{type:"text",placeholder:"English, Hindi, Malayalam",value:h,onChange:a=>y(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Specialization Tags (comma separated)"}),e.jsx("input",{type:"text",placeholder:"Stress Management, Yoga Therapy, Diet",value:N,onChange:a=>w(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Professional Quote"}),e.jsx("textarea",{rows:"3",placeholder:"Enter a short professional quote or bio",value:S,onChange:a=>k(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all"})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:E,onChange:a=>C(a.target.checked),className:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-primary"}),e.jsx("span",{className:"text-gray-700 font-medium select-none",children:"Available for Consult"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:D,onChange:a=>z(a.target.checked),className:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-primary"}),e.jsx("span",{className:"text-gray-700 font-medium select-none",children:"Verified Expert"})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-100 flex justify-end",children:e.jsxs("button",{type:"submit",className:"bg-primary text-white px-8 py-3 rounded-lg font-bold shadow-lg shadow-primary/30 hover:bg-opacity-90 transition-all flex items-center gap-2",children:[e.jsx(Y,{size:20})," Update Doctor"]})})]})})]})]})};export{K as default};
