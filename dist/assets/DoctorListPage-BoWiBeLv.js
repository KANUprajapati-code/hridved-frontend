import{j as e,a as c}from"./index-jnhJKHVM.js";import{r as s,b,L as m}from"./vendor-react-B8KVy-C4.js";import{y as N,S as w,u as v,ac as D,s as S}from"./vendor-ui-cGIEGKxt.js";import"./vendor-utils-C0Zqfgkc.js";const _=()=>{const[o,i]=s.useState([]),[d,l]=s.useState([]),[r,h]=s.useState(""),[p,n]=s.useState(!0),[x,f]=s.useState(null),u=b();s.useEffect(()=>{(async()=>{try{const{data:a}=await c.get("/doctors");i(a),l(a),n(!1)}catch{f("Failed to load doctors"),n(!1)}})()},[]),s.useEffect(()=>{l(r?o.filter(t=>t.name.toLowerCase().includes(r.toLowerCase())||t.specialization.toLowerCase().includes(r.toLowerCase())):o)},[r,o]);const g=async t=>{if(window.confirm("Are you sure you want to delete this doctor?"))try{await c.delete(`/doctors/${t}`);const a=o.filter(y=>y._id!==t);i(a)}catch{alert("Failed to delete doctor")}},j=async()=>{try{const{data:t}=await c.post("/doctors");u(`/admin/doctor/${t._id}/edit`)}catch{alert("Failed to create doctor")}};return p?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading doctors..."}):x?e.jsx("div",{className:"p-8 text-center text-red-500",children:x}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(m,{to:"/admin",className:"flex items-center gap-2 text-gray-600 hover:text-primary mb-6 transition-colors",children:[e.jsx(N,{size:20})," Back to Dashboard"]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Doctors"}),e.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[e.jsxs("div",{className:"relative flex-1 md:w-64",children:[e.jsx("input",{type:"text",placeholder:"Search doctors...",value:r,onChange:t=>h(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-primary"}),e.jsx(w,{size:18,className:"absolute left-3 top-2.5 text-gray-400"})]}),e.jsxs("button",{onClick:j,className:"bg-primary text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-opacity-90 transition-colors whitespace-nowrap",children:[e.jsx(v,{size:20})," Add Doctor"]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"ID"}),e.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"Name"}),e.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"Specialization"}),e.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"Experience"}),e.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"Fee"}),e.jsx("th",{className:"p-4 font-semibold text-gray-600",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[d.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxs("td",{className:"p-4 text-sm text-gray-500 font-mono",children:[t._id.substring(0,8),"..."]}),e.jsxs("td",{className:"p-4 font-medium text-gray-800 flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 overflow-hidden",children:e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"})}),t.name]}),e.jsx("td",{className:"p-4 text-sm text-gray-600",children:t.specialization}),e.jsx("td",{className:"p-4 text-sm text-gray-600",children:t.experience}),e.jsxs("td",{className:"p-4 text-sm font-bold text-gray-800",children:["â‚¹",t.fee]}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{to:`/admin/doctor/${t._id}/edit`,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:e.jsx(D,{size:18})}),e.jsx("button",{onClick:()=>g(t._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:e.jsx(S,{size:18})})]})})]},t._id)),d.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-400",children:"No doctors found."})})]})]})})})]})};export{_ as default};
