import{T as j,j as e,a as f}from"./index-jnhJKHVM.js";import{r,L as y}from"./vendor-react-B8KVy-C4.js";import{a as N}from"./vendor-utils-C0Zqfgkc.js";import{n as b,y as v,ae as D}from"./vendor-ui-cGIEGKxt.js";const w=()=>{const[g,m]=r.useState(!0),[d,c]=r.useState(!1),{addToast:n}=r.useContext(j),[l,x]=r.useState({heroTitle:"",heroDescription:"",heroImage:"",ourStoryTitle:"",ourStoryDescription:"",foundedYear:"",experiseCount:"",healedCount:"",missionTitle:"",missionDescription:"",visionTitle:"",visionDescription:"",teamImage1:"",teamImage2:"",teamImage3:"",teamImage4:""}),h=async()=>{try{const{data:t}=await f.get("/about");x(t),m(!1)}catch(t){console.error("Error fetching about data:",t),n&&n("Failed to load data","error"),m(!1)}};r.useEffect(()=>{h()},[]);const p=t=>{const{name:s,value:i}=t.target;x(o=>({...o,[s]:i}))},u=async t=>{var s,i;t.preventDefault(),c(!0);try{const o={headers:{"Content-Type":"application/json"},withCredentials:!0};await N.put("/api/about",l,o),n("About Us updated successfully","success")}catch(o){console.error("Error updating about data:",o),n(((i=(s=o.response)==null?void 0:s.data)==null?void 0:i.message)||"Failed to update","error")}finally{c(!1)}};if(g)return e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(b,{className:"animate-spin"})});const a=({label:t,name:s,type:i="text",className:o=""})=>e.jsxs("div",{className:`mb-4 ${o}`,children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:s,children:t}),i==="textarea"?e.jsx("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline min-h-[100px]",id:s,name:s,value:l[s]||"",onChange:p}):e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:s,type:i,name:s,value:l[s]||"",onChange:p})]});return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(y,{to:"/admin",className:"flex items-center gap-2 text-gray-600 hover:text-primary mb-6 transition-colors",children:[e.jsx(v,{size:20})," Back to Dashboard"]}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Edit About Us Page"}),e.jsxs("button",{onClick:u,disabled:d,className:"bg-primary text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-primary-dark transition-colors disabled:opacity-50",children:[d?e.jsx(b,{className:"animate-spin",size:18}):e.jsx(D,{size:18}),"Save Changes"]})]}),e.jsxs("form",{onSubmit:u,className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 border-b pb-2",children:"Hero Section"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(a,{label:"Hero Title",name:"heroTitle"}),e.jsx(a,{label:"Hero Image URL",name:"heroImage"}),e.jsx(a,{label:"Hero Description",name:"heroDescription",type:"textarea",className:"md:col-span-2"})]}),e.jsx("h2",{className:"text-xl font-semibold mb-4 border-b pb-2 mt-8",children:"Our Story"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a,{label:"Story Title",name:"ourStoryTitle"}),e.jsx(a,{label:"Founded Year",name:"foundedYear"}),e.jsx(a,{label:"Expertise Count (e.g., 500+)",name:"experiseCount"}),e.jsx(a,{label:"Healed Count (e.g., 3M+)",name:"healedCount"}),e.jsx(a,{label:"Story Description",name:"ourStoryDescription",type:"textarea",className:"md:col-span-3"})]}),e.jsx("h2",{className:"text-xl font-semibold mb-4 border-b pb-2 mt-8",children:"Mission & Vision"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(a,{label:"Mission Title",name:"missionTitle"}),e.jsx(a,{label:"Vision Title",name:"visionTitle"}),e.jsx(a,{label:"Mission Description",name:"missionDescription",type:"textarea"}),e.jsx(a,{label:"Vision Description",name:"visionDescription",type:"textarea"})]}),e.jsx("h2",{className:"text-xl font-semibold mb-4 border-b pb-2 mt-8",children:"Team Images"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(a,{label:"Image 1 URL",name:"teamImage1"}),e.jsx(a,{label:"Image 2 URL",name:"teamImage2"}),e.jsx(a,{label:"Image 3 URL",name:"teamImage3"}),e.jsx(a,{label:"Image 4 URL",name:"teamImage4"})]})]})]})};export{w as default};
